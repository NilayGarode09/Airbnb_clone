<% layout("layouts/boilerplate.ejs") %>

<body>
  <!-- <h3>All Listings</h3> -->
   <div class="filters">
    <div class="filter">
      <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-bed"></i>i></div>
      <p>Rooms</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-bed"></i>i></div>
      <p>Rooms</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-umbrella-beach"></i></div>
      <p>Beach</p>
    </div>    
    <div class="filter">
      <div><i class="fa-solid fa-mountain-sun"></i></div>
      <p>Mountain</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-person-swimming"></i></div>
      <p>Swimming pool</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-mug-hot"></i></div>
      <p>Tea & Breakfast</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-snowflake"></i></div>
      <p>Artic</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-paw"></i></div>
      <p>Forest</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-sailboat"></i></div>
      <p>Boats</p>
    </div>
    <div class="filter">
      <div><i class="fa-solid fa-gopuram"></i></div>
      <p>Tempals</p>
    </div>

    <div class="tax-switch">
      <div class="form-check form-switch form-check-reverse">
        <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
        <label class="form-check-label" for="switchCheckDefault">Display total after taxes</label>
      </div>
    </div>
    
  </div>

   
   
   
   
    <!-- <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>
    
    
    <div><i class="fa-solid fa-fire"></i></div>
      <p>Trending</p>
    </div>
     -->

  <div class="row">
    <% for (let list of allListings) { %>
      <div class="col-lg-4 col-md-6 col-sm-12 mb-4 mt-4">
        <a href="/listings/<%= list._id%>" class="text-decoration-none text-dark">
          <div class="card h-100 card-listing" style="width: 100%;">
            <img src="<%= list.image.url %>" class="card-img-top"
             style="height: 15rem; object-fit: cover;" 
             alt="listing image">
             <div class="card-img-overlay"></div>
            <div class="card-body">
              <h5 class="card-title"><%=list.title %></h5>
              <p class="card-text">&#x20B9;<%= list.price.toLocaleString("en-IN") %> / night <i class="tax-info">  &nbsp;+18% GST</i></p>
             
            </div>
          </div>
        </a>
      </div>
    <% } %>
  </div>

</body>
<script>
  let taxSwitch =document.getElementById("switchCheckDefault");
  taxSwitch.addEventListener("click",()=>{
    let token =document.getElementsByClassName("tax-info");
    for(let info of token){
      if(info.style.display !="inline"){
      info.style.display ="inline";
      }
      else{
        info.style.display ="none";
      }
    }
  })
</script>